# Portty configuration
# Place this file at ~/.config/portty/config.toml

# Root level = default for all portals
# Auto-detects terminal if not set (foot, alacritty, kitty, etc.)
exec = "foot"

# File chooser portal configuration
[file-chooser]
exec = "foot"  # default for all file-chooser operations

# Custom commands available in sessions
# Added to $PATH alongside builtins (sel, submit, cancel)
[file-chooser.bin]
pick = "fzf --multi | sel --stdin"
preview = "bat \"$@\""

# Per-operation overrides
# Priority: operation-specific → file-chooser → root default

# OpenFile: browse and select files
[file-chooser.open-file]
# exec = "foot"  # inherits from [file-chooser]

# SaveFile: auto-confirm with proposed filename
# Using "submit" shim immediately confirms the save location
[file-chooser.save-file]
exec = "submit"

# SaveFiles: auto-confirm with proposed directory
[file-chooser.save-files]
exec = "submit"

# Headless mode (no terminal, CLI only):
#   Set exec = "" at any level
#   Use `portty` CLI to interact:
#     portty select /path/to/file.txt
#     portty submit
#
# Submission queue:
#   Pre-queue selections before dialogs open:
#     portty select file1.txt file2.txt
#     portty submit
#   Queued submissions auto-apply when dialog opens.
#   Use --queue to view: portty --queue

# Screenshot portal configuration
[screenshot]
exec = "foot"  # default for all screenshot operations

# Custom commands available in sessions
[screenshot.bin]
# snap = "grim -g \"$(slurp)\" /tmp/screenshot.png && sel /tmp/screenshot.png && submit"

# Per-operation overrides
# Priority: operation-specific → screenshot → root default

# Screenshot: capture screen, return file URI
[screenshot.screenshot]
# exec = "foot"  # inherits from [screenshot]

# PickColor: pick a pixel color from screen
[screenshot.pick-color]
# exec = "foot"  # inherits from [screenshot]
